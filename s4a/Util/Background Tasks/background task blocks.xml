<blocks app="Snap4Arduino 1.2.6
, http://snap4arduino.rocks" version="1"><block-definition s="new background task %&apos;routine&apos; with %&apos;cancel flag&apos;" type="reporter" category="control"><header></header><code></code><translations></translations><inputs><input type="%cs"></input><input type="%upvar"></input></inputs><script><block s="doDeclareVariables"><list><l>finished</l></list></block><block s="doSetVar"><l>finished</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><block s="doSetVar"><l>cancel flag</l><block s="reportBoolean"><l><bool>false</bool></l></block></block><block s="fork"><block s="reifyScript"><script><block s="doRun"><block var="routine"/><list></list></block><block s="doSetVar"><l>finished</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><list></list></block><list></list></block><block s="doReport"><block s="reifyScript"><script><block s="doIf"><block s="reportEquals"><block var="method"/><l>done</l></block><script><block s="doReport"><block s="reifyScript"><script><block s="doReport"><block var="finished"/></block></script><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="method"/><l>cancelled</l></block><script><block s="doReport"><block s="reifyScript"><script><block s="doReport"><block var="cancel flag"/></block></script><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="method"/><l>cancel</l></block><script><block s="doReport"><block s="reifyScript"><script><block s="doIf"><block s="reportNot"><block var="finished"/></block><script><block s="doSetVar"><l>cancel flag</l><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block><block s="doReport"><block var="cancel flag"/></block></script><list></list></block></block></script></block></script><list><l>method</l></list></block></block></script></block-definition><block-definition s="combine tasks %&apos;tasks&apos;" type="reporter" category="control"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reifyScript"><script><block s="doIf"><block s="reportEquals"><block var="method"/><l>done</l></block><script><block s="doReport"><block s="reifyScript"><script><block s="doReport"><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportAnd"><custom-block s="task %s is done?"><block var="#1"/></custom-block><custom-block s="task %s is done?"><block var="#2"/></custom-block></block></autolambda><list><l>#1</l><l>#2</l></list></block><block var="tasks"/></custom-block></block></script><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="method"/><l>cancelled</l></block><script><block s="doReport"><block s="reifyScript"><script><block s="doReport"><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportAnd"><custom-block s="task %s is cancelled?"><block var="#1"/></custom-block><custom-block s="task %s is cancelled?"><block var="#2"/></custom-block></block></autolambda><list><l>#1</l><l>#2</l></list></block><block var="tasks"/></custom-block></block></script><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="method"/><l>cancel</l></block><script><block s="doReport"><block s="reifyScript"><script><custom-block s="for each %upvar of %l %cs"><l>item</l><block var="tasks"/><script><custom-block s="cancel task %s"><block var="item"/></custom-block></script></custom-block><block s="doReport"><custom-block s="combine with %repRing items of %l"><block s="reifyReporter"><autolambda><block s="reportAnd"><custom-block s="task %s is cancelled?"><block var="#1"/></custom-block><custom-block s="task %s is cancelled?"><block var="#2"/></custom-block></block></autolambda><list><l>#1</l><l>#2</l></list></block><block var="tasks"/></custom-block></block></script><list></list></block></block></script></block></script><list><l>method</l></list></block></block></script></block-definition><block-definition s="task %&apos;task&apos; is done?" type="predicate" category="control"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="evaluate"><block var="task"/><list><l>done</l></list></block><list></list></block></block></script></block-definition><block-definition s="cancel task %&apos;task&apos;" type="command" category="control"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="evaluate"><block var="task"/><list><l>cancel</l></list></block><list></list></block></block></script></block-definition><block-definition s="task %&apos;task&apos; is cancelled?" type="predicate" category="control"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="evaluate"><block var="task"/><list><l>cancelled</l></list></block><list></list></block></block></script></block-definition><block-definition s="empty? %&apos;data&apos;" type="predicate" category="lists"><header></header><code></code><translations>de:ist _ leer?&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block></block></script></block-definition><block-definition s="combine with %&apos;function&apos; items of %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations>de:kombiniere mit _ die Elemente von _&#xD;</translations><inputs><input type="%repRing"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="empty? %l"><block s="reportCDR"><block var="data"/></block></custom-block><script><block s="doReport"><block s="reportListItem"><l>1</l><block var="data"/></block></block></script></block><block s="doReport"><block s="evaluate"><block var="function"/><list><block s="reportListItem"><l>1</l><block var="data"/></block><custom-block s="combine with %repRing items of %l"><block var="function"/><block s="reportCDR"><block var="data"/></block></custom-block></list></block></block></script></block-definition><block-definition s="for each %&apos;item&apos; of %&apos;data&apos; %&apos;action&apos;" type="command" category="lists"><header></header><code></code><translations>de:f√ºr jedes _ von _ _&#xD;</translations><inputs><input type="%upvar"></input><input type="%l"></input><input type="%cs"></input></inputs><script><block s="doUntil"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doSetVar"><l>item</l><block s="reportListItem"><l>1</l><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="doSetVar"><l>data</l><block s="reportCDR"><block var="data"/></block></block></script></block></script></block-definition><block-definition s="wait %&apos;duration&apos; secs or until %&apos;cancel flag&apos;" type="command" category="control"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%boolUE"></input></inputs><script><block s="doDeclareVariables"><list><l>start time</l></list></block><block s="doSetVar"><l>start time</l><block s="reportDate"><l><option>time in milliseconds</option></l></block></block><custom-block s="catch %upvar %cs"><l>cancel signal</l><script><block s="doForever"><script><block s="doIf"><block s="reportOr"><block s="evaluate"><block var="cancel flag"/><list></list></block><block s="reportGreaterThan"><block s="reportDifference"><block s="reportDate"><l><option>time in milliseconds</option></l></block><block var="start time"/></block><block s="reportProduct"><l>1000</l><block var="duration"/></block></block></block><script><custom-block s="throw %s"><block var="cancel signal"/></custom-block></script></block></script></block></script></custom-block></script></block-definition><block-definition s="run task %&apos;task&apos; until it is done" type="command" category="control"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doWaitUntil"><custom-block s="task %s is done?"><block var="task"/></custom-block></block></script></block-definition></blocks>